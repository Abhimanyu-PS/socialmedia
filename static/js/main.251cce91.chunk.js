(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{43:function(e,t,c){},45:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(33),a=c.n(s),o=c(7),i=c.n(o),r=c(11),l=c(3),u=(c(43),c(6)),d=c(1);var j=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"main",children:Object(d.jsxs)("div",{className:"main2",children:[Object(d.jsx)("h4",{children:"Social Media App"}),Object(d.jsx)("h6",{children:"A fun place for developers and freinds to share ideas on technology.Plenty of cool discussions!"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:"button-1",children:Object(d.jsx)(u.b,{to:"/Register",children:"Register"})}),Object(d.jsx)("button",{className:"button-2",children:Object(d.jsx)(u.b,{to:"/Login",children:"Login"})})]})]})})})},b=c(2),p=(c(45),c(5)),h=c.n(p);var O=function(e){var t=Object(n.useRef)(),c=Object(n.useRef)(),s=Object(n.useRef)(),a=Object(n.useState)(),o=Object(l.a)(a,2),i=o[0],r=o[1];return Object(d.jsxs)("div",{className:"Register",children:[Object(d.jsx)("h1",{children:"Register"}),Object(d.jsx)("h6",{children:"Join me and my freinds on this great application"}),Object(d.jsx)("input",{placeholder:"Name",ref:t}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{placeholder:"Email",ref:c}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{placeholder:"Password",ref:s,type:"password"}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{children:"Select a profile pic"}),Object(d.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){r(e.target.files)},style:{color:"white"}}),Object(d.jsx)("button",{onClick:function(){""!==c.current.value&&""!==s.current.value&&c.current.value.length>=5&&s.current.value.length>=5&&""!==t.current.value?h.a.post("https://social-coderr.herokuapp.com/data/postdata",{name:t.current.value,email:c.current.value,pass:s.current.value}).then((function(e){var t=new FormData;t.append("Image",e.data.insertedId),t.append("Image",i[0]),null!=t&&h.a.post("https://social-coderr.herokuapp.com/data/upload",t).then((function(e){console.log(e.data)}),(function(e){console.log(e)})),alert("You have successully registered")}),(function(e){console.log(e)})):alert("Please provide correct details")},children:Object(d.jsx)(u.b,{to:"/",children:"Sign up"})})," ",Object(d.jsx)("br",{}),Object(d.jsx)("span",{style:{color:"grey"},children:"Already hava an account?"}),Object(d.jsx)(u.b,{to:"/login",children:Object(d.jsx)("span",{style:{color:"white"},children:"Login"})})]})};c(64);var f=function(e){var t=Object(n.useRef)(),c=Object(n.useRef)();return Object(d.jsxs)("div",{className:"login",children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsx)("h6",{children:"Login to this awesome application!"}),Object(d.jsx)("input",{placeholder:"Email",ref:t,type:"email"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{placeholder:"Password",ref:c,type:"passsword"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:function(){""!==t.current.value&&""!==c.current.value&&t.current.value.length>=5&&c.current.value.length>=5?h.a.post("https://social-coderr.herokuapp.com/data/login",{email:t.current.value,pass:c.current.value}).then((function(t){console.log(t.data),0===Object.keys(t.data).length?alert("Incorrect details"):e.login_details(t.data)}),(function(e){console.log(e)})):alert("Plese provide valid input")},children:Object(d.jsx)(u.b,{to:"/",children:"Login"})}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{style:{color:"grey"},children:"Don't hava an account?"}),Object(d.jsx)(u.b,{to:"/Register",children:Object(d.jsx)("span",{style:{color:"white"},children:"Register"})})]})};c(65);function m(){return Object(d.jsx)("div",{children:Object(d.jsxs)("nav",{className:"nav1",children:[Object(d.jsx)("div",{className:"navlogo",children:Object(d.jsx)("h3",{children:Object(d.jsx)(u.b,{to:"/",style:{color:"rgb(216, 211, 211)"},children:"Social Media App"})})}),Object(d.jsxs)("div",{className:"nav-links",children:[Object(d.jsx)("button",{className:"Reg",children:Object(d.jsx)(u.b,{to:"/Register",children:"Sign up"})}),Object(d.jsx)("button",{className:"Log",children:Object(d.jsx)(u.b,{to:"/Login",style:{color:"white"},children:" Login"})})]})]})})}c(66);var x=c.p+"static/media/emptyprofilepic.c3f94521.png",g=(c(67),c.p+"static/media/emptyprofilepic.c3f94521.png"),v=c(34),k=c.n(v),y=c(36),N=c.n(y),w=c(14);function S(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),s=c[0],a=c[1],o=Object(n.useState)(!1),j=Object(l.a)(o,2),b=j[0],p=j[1],O=Object(n.useState)(!1),f=Object(l.a)(O,2),m=f[0],x=f[1],v=Object(n.useState)(),y=Object(l.a)(v,2),S=y[0],_=y[1],I=Object(n.useState)(!1),R=Object(l.a)(I,2),C=R[0],D=R[1],L=Object(n.useState)(!1),E=Object(l.a)(L,2),A=E[0],B=E[1];function P(){h.a.get("https://social-coderr.herokuapp.com/data/getOne/".concat(e.id)).then((function(e){a(e.data),p(!1),x(!1)}),(function(e){console.log(e)})),h.a.get("https://social-coderr.herokuapp.com/data/user_profile/".concat(e.userid)).then((function(e){_(e.data)}),(function(e){console.log(e)}))}function M(){return(M=Object(r.a)(i.a.mark((function t(){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b||C){t.next=6;break}return c=s.like,c++,t.next=5,h.a.put("https://social-coderr.herokuapp.com/data/updatelike/".concat(e.id),{},{params:{like:c}}).then((function(e){p(!0),D(!0),B(!0)}),(function(e){console.log(e)}));case 5:P();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(){return(F=Object(r.a)(i.a.mark((function t(){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m||A){t.next=6;break}return c=s.dislike,c++,t.next=5,h.a.put("https://social-coderr.herokuapp.com/data/updatedislike/".concat(e.id),{},{params:{dislike:c}}).then((function(e){x(!0),D(!0),B(!0)}),(function(e){console.log(e)}));case 5:P();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){P()}),[]),Object(d.jsxs)("div",{className:"singlepost",children:[Object(d.jsxs)("div",{className:"singlepostLeft",children:[""!==S&&void 0!==S?Object(d.jsx)("img",{src:"//social-coderr.herokuapp.com/".concat(S.profile.filename),alt:""}):Object(d.jsx)("img",{src:g,alt:""}),Object(d.jsx)("p",{children:e.name})]}),Object(d.jsxs)("div",{className:"singlepost2",children:[Object(d.jsx)("div",{className:"singlepost3",children:e.post}),Object(d.jsx)("h6",{children:e.date}),Object(d.jsxs)("div",{className:"singlepostButtons",children:[Object(d.jsxs)("div",{className:"likedislike",children:[!1===b?Object(d.jsxs)("button",{className:"button0",onClick:function(){return M.apply(this,arguments)},children:[Object(d.jsx)("span",{children:s.like}),Object(d.jsx)("span",{children:Object(d.jsx)(k.a,{style:{color:"white"}})})]}):Object(d.jsx)(w.a,{height:30,color:"blue"}),!1===m?Object(d.jsxs)("button",{className:"button2",onClick:function(){return F.apply(this,arguments)},children:[Object(d.jsx)("span",{children:s.dislike}),Object(d.jsx)("span",{children:Object(d.jsx)(N.a,{style:{color:"white"}})})]}):Object(d.jsx)(w.a,{height:30,color:"blue"})]}),Object(d.jsxs)("button",{className:"button3",children:[" ",Object(d.jsx)(u.b,{to:"/Discussion/".concat(e.id),children:"Discussion"})]}),e.login.name===e.name?Object(d.jsx)("button",{className:"button2",onClick:function(){e.deletepost(e.id)},children:"Delete"}):""]})]})]})}function _(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),s=c[0],a=c[1],o=Object(n.useRef)(),u=Object(n.useState)(!1),j=Object(l.a)(u,2),b=j[0],p=j[1];Object(n.useEffect)((function(){O()}),[]);var O=function(){h.a.get("https://social-coderr.herokuapp.com/data/getpost").then((function(e){e.data.reverse(),a(e.data),p(!1)}),(function(e){console.log(e)}))},f=function(){var t=Object(r.a)(i.a.mark((function t(){var c,n,s,a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=new Date,n=c.getDate(),s=c.getMonth()+1,a=c.getFullYear(),r="".concat(n,"/").concat(s,"/").concat(a),""===o.current.value){t.next=13;break}return p(!0),t.next=9,h.a.post("https://social-coderr.herokuapp.com/data/post_details",{post:o.current.value,date:r,name:e.login.name,like:0,dislike:0,id:e.login._id}).then((function(e){console.log(e.data)}),(function(e){console.log(e)}));case 9:O(),window.location.reload(),t.next=14;break;case 13:alert("empty post");case 14:document.getElementById("text").value="";case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function m(e){h.a.delete("https://social-coderr.herokuapp.com/data/delete/".concat(e)).then((function(e){console.log(e),O(),window.location.reload()}),(function(e){console.log(e)}))}return Object(d.jsxs)("div",{className:"postContainer",children:[Object(d.jsxs)("div",{className:"post",children:[Object(d.jsx)("h1",{children:"Welcome to the thriving tech community!"}),Object(d.jsx)("h6",{children:"Discuss the latest on technology and trends. Be civil and supportive!"}),Object(d.jsxs)("div",{className:"textarea",children:[""!==e.image&&void 0!==e.image?Object(d.jsx)("img",{src:"//social-coderr.herokuapp.com/".concat(e.image.profile.filename),alt:""}):Object(d.jsx)("img",{src:x,alt:""}),Object(d.jsx)("textarea",{placeholder:"What's on your mind!",ref:o,id:"text"}),Object(d.jsx)("br",{})]}),!1===b?Object(d.jsx)("button",{className:"post_button",onClick:f,children:"Post"}):Object(d.jsx)(w.a,{height:30})]}),s.map((function(t,c){return Object(d.jsx)(S,{post:t.post,date:t.date,deletepost:m,id:t._id,name:t.name,login:e.login,userid:t.id},c)}))]})}c(73);function I(e){return Object(d.jsx)("div",{children:Object(d.jsxs)("nav",{className:"nav2",children:[Object(d.jsx)("div",{children:Object(d.jsx)("h3",{children:Object(d.jsx)(u.b,{to:"/",children:"Social-Media-App"})})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){e.logout()},children:Object(d.jsx)(u.b,{to:"/",children:" Logout"})})})]})})}c(74);var R=c.p+"static/media/emptyprofilepic.c3f94521.png",C=(c(75),c.p+"static/media/emptyprofilepic.c3f94521.png");function D(e){var t=Object(n.useState)(),c=Object(l.a)(t,2),s=c[0],a=c[1];return Object(n.useEffect)((function(){h.a.get("https://social-coderr.herokuapp.com/data/user_profile/".concat(e.userId)).then((function(e){a(e.data)}),(function(e){console.log(e)}))}),[]),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"single_discussion",children:[Object(d.jsxs)("div",{className:"single_discussionLeft",children:[""!==s&&void 0!==s?Object(d.jsx)("img",{src:"//social-coderr.herokuapp.com/".concat(s.profile.filename),alt:""}):Object(d.jsx)("img",{src:C,alt:""}),Object(d.jsx)("p",{children:e.discuss_name})]}),Object(d.jsxs)("div",{className:"single_discussion2",children:[console.log(e.userId),Object(d.jsx)("h6",{className:"singledis",children:e.discuss}),Object(d.jsx)("h6",{className:"singleDate",children:e.date}),e.login.name===e.discuss_name?Object(d.jsx)("button",{onClick:function(){e.delete(e.id)},children:"Delete"}):""]})]})})}function L(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),s=c[0],a=c[1],o=Object(n.useState)([]),j=Object(l.a)(o,2),p=j[0],O=j[1],f=Object(n.useRef)(),m=Object(b.g)().id,x=Object(n.useState)([]),g=Object(l.a)(x,2),v=(g[0],g[1]);Object(n.useEffect)((function(){k()}),[]);var k=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://social-coderr.herokuapp.com/data/getOne/".concat(m)).then((function(e){O(e.data),h.a.get("https://social-coderr.herokuapp.com/data/user_profile/".concat(e.data.id)).then((function(e){v(e.data)}),(function(e){console.log(e)}))}),(function(e){console.log(e)}));case 2:h.a.get("https://social-coderr.herokuapp.com/data/getdiscussdetails/".concat(m)).then((function(e){a(e.data)}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function y(){return(y=Object(r.a)(i.a.mark((function t(c){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.post("https://social-coderr.herokuapp.com/data/discuss_details",{discuss:f.current.value,date:c,name:e.login.name,post_id:m,userId:e.login._id}).then((function(e){}),(function(e){console.log(e)}));case 2:k(),document.getElementById("text1").value="";case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(e){h.a.delete("https://social-coderr.herokuapp.com/data/discuss_delete/".concat(e)).then((function(e){console.log(e),k()}),(function(e){console.log(e)}))}return Object(d.jsxs)("div",{className:"discussion1",children:[Object(d.jsxs)(u.b,{to:"/",children:[" ",Object(d.jsx)("button",{className:"disbutton",children:"BACK"})]}),Object(d.jsxs)("div",{className:"discussion2",children:[Object(d.jsxs)("div",{className:"discussion-flex",children:[Object(d.jsxs)("div",{className:"discussion-flex-left",children:[Object(d.jsx)("img",{src:R,alt:"",className:"image1"}),Object(d.jsx)("p",{className:"discuss_name",children:p.name})]}),Object(d.jsxs)("div",{className:"discussion-flex-right",children:[Object(d.jsx)("p",{className:"dispost",children:p.post}),Object(d.jsx)("p",{className:"discuss_date",children:p.date})]})]}),Object(d.jsxs)("div",{className:"discussionTop",children:[null!==e.image&&void 0!==e.image?Object(d.jsx)("img",{src:"//social-coderr.herokuapp.com/".concat(e.image.profile.filename),alt:"",className:"image2"}):Object(d.jsx)("img",{src:R,alt:"",className:"image2"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("textarea",{placeholder:"What's on your mind!",ref:f,id:"text1"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"post_button",onClick:function(){var e=new Date,t=e.getDate(),c=e.getMonth()+1,n=e.getFullYear(),s="".concat(t,"-").concat(c,"-").concat(n);""===f.current.value?alert("empty discussion"):function(e){y.apply(this,arguments)}(s)},children:"Comment"})]})]})]}),s.map((function(t,c){return Object(d.jsx)(D,{discuss:t.discuss,date:t.date,login:e.login,id:t._id,delete:N,discuss_name:t.name,userId:t.userId},c)}))]})}c(76);var E=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([]),o=Object(l.a)(a,2),p=o[0],x=o[1],g=Object(n.useState)(),v=Object(l.a)(g,2),k=v[0],y=v[1];function N(){return(N=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.a.get("https://social-coderr.herokuapp.com/data/user_details/".concat(t)).then((function(e){x(e.data)}),(function(e){console.log(e)})),e.next=3,h.a.get("https://social-coderr.herokuapp.com/data/user_profile/".concat(t)).then((function(e){y(e.data)}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===Object.keys(t).length){e.next=10;break}return x(t),s(!0),localStorage.setItem("info",!0),e.next=6,localStorage.setItem("userId",t._id);case 6:return e.next=8,h.a.get("https://social-coderr.herokuapp.com/data/user_profile/".concat(t._id)).then((function(e){y(e.data)}),(function(e){console.log(e)}));case 8:e.next=12;break;case 10:s(!1),localStorage.setItem("info",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){"true"===localStorage.getItem("info")?s(!0):s(!1),function(e){N.apply(this,arguments)}(localStorage.getItem("userId"))}),[]),Object(d.jsx)("div",{children:Object(d.jsxs)(u.a,{children:[c?Object(d.jsx)(I,{logout:function(){window.confirm("Are you sure")&&(s(!1),localStorage.setItem("info",!1))}}):Object(d.jsx)(m,{}),Object(d.jsxs)(b.c,{children:[c?Object(d.jsx)(b.a,{path:"/",element:Object(d.jsx)(_,{login:p,image:k})}):Object(d.jsx)(b.a,{path:"/",element:Object(d.jsx)(j,{})}),Object(d.jsx)(b.a,{path:"/Register",element:Object(d.jsx)(O,{})}),Object(d.jsx)(b.a,{path:"/Login",element:Object(d.jsx)(f,{login_details:function(e){return w.apply(this,arguments)}})}),Object(d.jsx)(b.a,{path:"/Discussion/:id",element:Object(d.jsx)(L,{login:p,image:k})})]})]})})};a.a.render(Object(d.jsx)(E,{}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.251cce91.chunk.js.map